<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Maksim's Website" type="application/atom+xml" />






<meta name="description" content="为什么要用NFSNFS（Network File System）即网络文件系统，是FreeBSD支持的文件系统中的一种，它允许网络中的计算机之间通过TCP/IP网络共享资源。在NFS的应用中，本地NFS的客户端应用可以透明地读写位于远端NFS服务器上的文件，就像访问本地文件一样。 NFS最早是由Sun公司发展出来的， 简单的来说：它就是是可以透过网络，让不同的主机、不同的操作系统可以共享存储。 以">
<meta name="keywords" content="前端博客,JavaScript,html5,css3,Jquery,Linux,PHP,iOS,MySQL,SQL,Redis">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux典型应用实践：NFS共享文件">
<meta property="og:url" content="http://www.maksim.website/2018/04/12/2/index.html">
<meta property="og:site_name" content="Maksim&#39;s Website">
<meta property="og:description" content="为什么要用NFSNFS（Network File System）即网络文件系统，是FreeBSD支持的文件系统中的一种，它允许网络中的计算机之间通过TCP/IP网络共享资源。在NFS的应用中，本地NFS的客户端应用可以透明地读写位于远端NFS服务器上的文件，就像访问本地文件一样。 NFS最早是由Sun公司发展出来的， 简单的来说：它就是是可以透过网络，让不同的主机、不同的操作系统可以共享存储。 以">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-06-27T13:33:29.669Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux典型应用实践：NFS共享文件">
<meta name="twitter:description" content="为什么要用NFSNFS（Network File System）即网络文件系统，是FreeBSD支持的文件系统中的一种，它允许网络中的计算机之间通过TCP/IP网络共享资源。在NFS的应用中，本地NFS的客户端应用可以透明地读写位于远端NFS服务器上的文件，就像访问本地文件一样。 NFS最早是由Sun公司发展出来的， 简单的来说：它就是是可以透过网络，让不同的主机、不同的操作系统可以共享存储。 以">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.maksim.website/2018/04/12/2/"/>





  <title>Linux典型应用实践：NFS共享文件 | Maksim's Website</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Maksim's Website</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.maksim.website/2018/04/12/2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Maksim">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://ogxeww23n.bkt.clouddn.com/timg.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Maksim's Website">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Linux典型应用实践：NFS共享文件</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-12T00:00:00+08:00">
                2018-04-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="为什么要用NFS"><a href="#为什么要用NFS" class="headerlink" title="为什么要用NFS"></a>为什么要用NFS</h1><p>NFS（Network File System）即网络文件系统，是FreeBSD支持的文件系统中的一种，它允许网络中的计算机之间通过TCP/IP网络共享资源。在NFS的应用中，本地NFS的客户端应用可以透明地读写位于远端NFS服务器上的文件，就像访问本地文件一样。</p>
<p>NFS最早是由Sun公司发展出来的，</p>
<p>简单的来说：它就是是可以透过网络，让不同的主机、不同的操作系统可以共享存储。</p>
<p>以下是NFS最显而易见的好处：</p>
<ol>
<li>节省本地存储空间，将常用的数据存放在一台NFS服务器上且可以通过网络访问，那么本地终端将可以减少自身存储空间的使用。</li>
<li>用户不需要在网络中的每个机器上都建有Home目录，Home目录可以放在NFS服务器上且可以在网络上被访问使用。</li>
<li>一些存储设备CDROM和Zip（一种高储存密度的磁盘驱动器与磁盘）等都可以在网络上被别的机器使用。这可以减少整个网络上可移动介质设备的数量。</li>
</ol>
<p>NFS 的基本原则是“容许不同的客户端及服务端通过一组RPC分享相同的文件系统”，它是独立于操作系统，容许不同硬件及操作系统的系统共同进行文件的分享。</p>
<p>NFS在文件传送或信息传送过程中依赖于RPC协议。RPC，远程过程调用 (Remote Procedure Call) 是能使客户端执行其他系统中程序的一种机制。NFS本身是没有提供信息传输的协议和功能的，但NFS却能让我们通过网络进行资料的分享，这是因为NFS使用了一些其它的传输协议。而这些传输协议用到这个RPC功能的。</p>
<p>可以说NFS本身就是使用RPC的一个程序。或者说NFS也是一个RPC SERVER。所以只要用到NFS的地方都要启动RPC服务，不论是NFS SERVER或者NFS CLIENT。这样SERVER和CLIENT才能通过RPC来实现PROGRAM PORT的对应。可以这么理解RPC和NFS的关系：NFS是一个文件系统，而RPC是负责负责信息的传输。</p>
<h1 id="NSF-的工作流程"><a href="#NSF-的工作流程" class="headerlink" title="NSF 的工作流程"></a>NSF 的工作流程</h1><ol>
<li>由程序在NFS客户端发起存取文件的请求，客户端本地的RPC(rpcbind)服务会通过网络向NFS服务端的RPC的111端口发出文件存取功能的请求。</li>
<li>NFS服务端的RPC找到对应已注册的NFS端口，通知客户端RPC服务。</li>
<li>客户端获取正确的端口，并与NFS daemon联机存取数据。</li>
<li>存取数据成功后，返回前端访问程序，完成一次存取操作。</li>
</ol>
<h1 id="CentOS-7搭建NFS服务器实例"><a href="#CentOS-7搭建NFS服务器实例" class="headerlink" title="CentOS 7搭建NFS服务器实例"></a>CentOS 7搭建NFS服务器实例</h1><table>
<thead>
<tr>
<th style="text-align:center">服务器系统</th>
<th style="text-align:center">角色</th>
<th style="text-align:center">IP</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">CentOS 7</td>
<td style="text-align:center">Server</td>
<td style="text-align:center">192.168.0.100</td>
</tr>
<tr>
<td style="text-align:center">CentOS 7</td>
<td style="text-align:center">Client</td>
<td style="text-align:center">192.168.0.101</td>
</tr>
</tbody>
</table>
<p><strong>1、因是测试环境，先关闭selinux和firewalld</strong></p>
<p>关闭selinux</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# sed -i s#SELINUX=enforcing#SELINUX=disabled#g /etc/selinux/config</div></pre></td></tr></table></figure>
<p>停止防火墙</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# systemctl stop firewalld.service</div></pre></td></tr></table></figure>
<p><strong>2、服务器部署</strong></p>
<p>1）检查系统版本及NFS服务nfs-utils 和rpcbind有没有安装 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# cat /etc/redhat-release #查看系统版本</div><div class="line">CentOS Linux release 7.5.1804 (Core)</div><div class="line">[root@service ~]# uname -r #查看系统内核版本</div><div class="line">3.10.0-862.el7.x86_64</div><div class="line">[root@servicer ~]# uname -m #查看系统是否64位</div><div class="line">x86_64</div><div class="line">[root@service ~]# rpm -qa nfs-utils rpcbind #检查安装的软件包</div><div class="line">rpcbind-0.2.0-44.el7.x86_64</div><div class="line">nfs-utils-1.3.0-0.54.el7.x86_64</div></pre></td></tr></table></figure>
<p>2）如果没有安装在系统中通过yum 命令进行安装以上两个包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# yum install -y nfs-utils rpcbind #安装上述所需的两个软件包</div></pre></td></tr></table></figure>
<p>3）启动rpcbind服务（<strong>一定要先启动rpcbind服务再启动nfs服务</strong>,由于在NFS服务过程中，必须先启动rpcbind，再启动nfs，这样才能让NFS在rpcbind上注册成功) </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[root@service ~]#  systemctl start rpcbind  #启动</div><div class="line">[root@service ~]#  systemctl status rpcbind  #查看状态</div><div class="line">● rpcbind.service - RPC bind service</div><div class="line">   Loaded: loaded (/usr/lib/systemd/system/rpcbind.service; enabled; vendor preset: enabled)</div><div class="line">   Active: active (running) since 三 2018-06-27 16:02:27 CST; 29s ago</div><div class="line">  Process: 1577 ExecStart=/sbin/rpcbind -w $RPCBIND_ARGS (code=exited, status=0/SUCCESS)</div><div class="line"> Main PID: 1578 (rpcbind)</div><div class="line">   CGroup: /system.slice/rpcbind.service</div><div class="line">           └─1578 /sbin/rpcbind -w</div><div class="line"></div><div class="line">6月 27 16:02:27 bogon systemd[1]: Starting RPC bind service...</div><div class="line">6月 27 16:02:27 bogon systemd[1]: Started RPC bind service.</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# lsof -i :111  #查询rpcbind监听状态 (111是rpcbind的主端口)</div><div class="line">COMMAND  PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</div><div class="line">rpcbind 1578  rpc    6u  IPv4  19786      0t0  UDP *:sunrpc</div><div class="line">rpcbind 1578  rpc    8u  IPv4  19788      0t0  TCP *:sunrpc (LISTEN)</div><div class="line">rpcbind 1578  rpc    9u  IPv6  19789      0t0  UDP *:sunrpc</div><div class="line">rpcbind 1578  rpc   11u  IPv6  19791      0t0  TCP *:sunrpc (LISTEN)</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# netstat -lntup |grep rpcbind #查询rpcbind服务启动状态 (同lsof查询端口效果一样)</div><div class="line">tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      1578/rpcbind</div><div class="line">tcp6       0      0 :::111                  :::*                    LISTEN      1578/rpcbind</div><div class="line">udp        0      0 0.0.0.0:905             0.0.0.0:*                           1578/rpcbind</div><div class="line">udp        0      0 0.0.0.0:111             0.0.0.0:*                           1578/rpcbind</div><div class="line">udp6       0      0 :::905                  :::*                                1578/rpcbind</div><div class="line">udp6       0      0 :::111                  :::*                                1578/rpcbind</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# rpcinfo -p localhost	#查看nfs服务向rpc注册的端 口信息</div><div class="line">program vers proto   port  service</div><div class="line">    100000    4   tcp    111  portmapper</div><div class="line">    100000    3   tcp    111  portmapper</div><div class="line">    100000    2   tcp    111  portmapper</div><div class="line">    100000    4   udp    111  portmapper</div><div class="line">    100000    3   udp    111  portmapper</div><div class="line">    100000    2   udp    111  portmapper</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# systemctl list-unit-files | grep rpcbind #检查rpcbind自启动情况</div><div class="line">rpcbind.service                               enabled</div><div class="line">rpcbind.socket                                enabled</div><div class="line">rpcbind.target                                static</div></pre></td></tr></table></figure>
<p>如果rpcbind.service不是enable将其加入自启动</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# systemctl enable rpcbind.service</div></pre></td></tr></table></figure>
<p>4）启动NFS服务并查看其状态 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# systemctl start nfs #启动NFS</div><div class="line">[root@service ~]# systemctl status nfs #查看NFS</div><div class="line">● nfs-server.service - NFS server and services</div><div class="line">   Loaded: loaded (/usr/lib/systemd/system/nfs-server.service; disabled; vendor preset: disabled)</div><div class="line">   Active: active (exited) since 三 2018-06-27 16:15:44 CST; 30s ago</div><div class="line">  Process: 9397 ExecStart=/usr/sbin/rpc.nfsd $RPCNFSDARGS (code=exited, status=0/SUCCESS)</div><div class="line">  Process: 9392 ExecStartPre=/bin/sh -c /bin/kill -HUP `cat /run/gssproxy.pid` (code=exited, status=0/SUCCESS)</div><div class="line">  Process: 9391 ExecStartPre=/usr/sbin/exportfs -r (code=exited, status=0/SUCCESS)</div><div class="line"> Main PID: 9397 (code=exited, status=0/SUCCESS)</div><div class="line">   CGroup: /system.slice/nfs-server.service</div><div class="line"></div><div class="line">6月 27 16:15:44 bogon systemd[1]: Starting NFS server and services...</div><div class="line">6月 27 16:15:44 bogon systemd[1]: Started NFS server and services.</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@NFS-server ~]# netstat -lntup|grep nfs #查看NFS端口启动(FNS默认端口为2049)</div><div class="line">[root@NFS-server ~]# lsof -i :2049 #查看NFS端口启动(FNS默认端口为2049)</div><div class="line">[root@NFS-server ~]# netstat -lntup|grep 2049 #查看NFS端口启动(FNS默认端口为2049)</div><div class="line">tcp        0      0 0.0.0.0:2049            0.0.0.0:*               LISTEN      -</div><div class="line">tcp6       0      0 :::2049                 :::*                    LISTEN      -</div><div class="line">udp        0      0 0.0.0.0:2049            0.0.0.0:*                           -</div><div class="line">udp6       0      0 :::2049                 :::*                                -</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@NFS-server ~]# rpcinfo -p localhost #启动NFS过后rpcbind服务已经启用了对FNS的端口映射</div></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">[root@NFS-server ~]# systemctl list-unit-files | grep nfs  #查看nfs的开机自启动情况</div><div class="line">proc-fs-nfsd.mount                            static</div><div class="line">var-lib-nfs-rpc_pipefs.mount                  static</div><div class="line">nfs-blkmap.service                            disabled</div><div class="line">nfs-config.service                            static</div><div class="line">nfs-idmap.service                             static</div><div class="line">nfs-idmapd.service                            static</div><div class="line">nfs-lock.service                              static</div><div class="line">nfs-mountd.service                            static</div><div class="line">nfs-rquotad.service                           disabled</div><div class="line">nfs-secure.service                            static</div><div class="line">nfs-server.service                            disabled</div><div class="line">nfs-utils.service                             static</div><div class="line">nfs.service                                   disabled</div><div class="line">nfslock.service                               static</div><div class="line">nfs-client.target                             enabled</div><div class="line">[root@NFS-server ~]# systemctl enable nfs #让FNS开机自启动</div></pre></td></tr></table></figure>
<p>5）授权nfsnobody于/data/bbs让客户端挂载后可写可读</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@service /]# chown nfsnobody:nfsnobody /data/bbs</div></pre></td></tr></table></figure>
<p>6）创建测试目录及文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# mkdir /data/bbs -p</div><div class="line">[root@service ~]# mkdir /data/bbs/test.txt</div></pre></td></tr></table></figure>
<p>7）配置NFS服务的export文件 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# echo "/data/bbs/ 192.168.0.0/24(rw,sync,root_squash)"&gt;&gt;/etc/exports</div></pre></td></tr></table></figure>
<p>重新加载nfs配置文件 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# exportfs -rv</div><div class="line">exporting 192.168.0.0/24:/data/bbs</div></pre></td></tr></table></figure>
<p>exportfs：NFS服务端发布共享控制命令。 </p>
<ul>
<li>-r：表示重新刷新共享</li>
<li>-a：表示将配置文件/etc/exports中的所有定义共享发布出去。</li>
<li>-v：显示确认共享设置</li>
<li>-u：表示不发布共享</li>
</ul>
<p>查看nfs服务器挂载情况 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@service ~]# showmount -e localhost</div><div class="line">Export list for localhost:</div><div class="line">/data/bbs 192.168.10.1/24</div></pre></td></tr></table></figure>
<ul>
<li>ro：目录只读</li>
<li>rw：目录读写</li>
<li>sync：将数据同步写入内存缓冲区与磁盘中，效率低，但可以保证数据的一致性</li>
<li>async：将数据先保存在内存缓冲区中，必要时才写入磁盘</li>
<li>all_squash：将远程访问的所有普通用户及所属组都映射为匿名用户或用户组(nfsnobody)</li>
<li>no_all_squash：与all_squash取反(默认设置)</li>
<li>root_squash：将root用户及所属组都映射为匿名用户或用户组(默认设置)</li>
<li>no_root_squash：与rootsquash取反</li>
<li>anonuid=xxx：将远程访问的所有用户都映射为匿名用户，并指定该用户为本地用户(UID=xxx)</li>
<li>anongid=xxx：将远程访问的所有用户组都映射为匿名用户组账户</li>
</ul>
<p><strong>3、客户端配置</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# yum install nfs-utils rpcbind</div></pre></td></tr></table></figure>
<p>把rpcbind加入开机自启动 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost bbs]# systemctl enable rpcbind.service</div></pre></td></tr></table></figure>
<p>创建测试目录文件 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# mkdir /data/bbs/ -p</div></pre></td></tr></table></figure>
<p>扫描NFS服务器的文件共享列表 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@localhost bbs]# showmount -e 192.168.0.100</div><div class="line">Export list for 192.168.0.100:</div><div class="line">/data/bbs 192.168.0.100/24</div></pre></td></tr></table></figure>
<p>把服务器的目录挂载到客户端 的目录下 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# mount -t nfs -o noexec,nosuid,nodev,rw,rsize=65536,wsize=65536 192.168.10.150:/data/bbs /data/bbs</div><div class="line">[root@localhost ~]# df -h</div><div class="line">文件系统                 容量  已用  可用 已用% 挂载点</div><div class="line">/dev/mapper/centos-root  6.2G  1.1G  5.1G   18% /</div><div class="line">devtmpfs                 485M     0  485M    0% /dev</div><div class="line">tmpfs                    496M     0  496M    0% /dev/shm</div><div class="line">tmpfs                    496M  6.8M  490M    2% /run</div><div class="line">tmpfs                    496M     0  496M    0% /sys/fs/cgroup</div><div class="line">/dev/sda1               1014M  129M  886M   13% /boot</div><div class="line">tmpfs                    100M     0  100M    0% /run/user/0</div><div class="line">192.168.0.100:/data/bbs  6.2G  1.1G  5.1G   18% /data/bbs</div></pre></td></tr></table></figure>
<h1 id="数据测试"><a href="#数据测试" class="headerlink" title="数据测试"></a>数据测试</h1><p>Service</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@service /]# cd /data/bbs</div><div class="line">[root@service bbs]# touch a.txt</div></pre></td></tr></table></figure>
<p>Client</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# ls /data/bbsa.txt</div></pre></td></tr></table></figure>
<p>提示:  </p>
<ol>
<li>配置NFS服务端后，不用重启NFS服务，只要使用exportfs -rv           </li>
<li>rpc主程序Centos5.8下为portmap 、Centos6.4和Centos7下为rpcbind          </li>
<li>NFS共享目录不要授权于777权限，可以改所属主和组为nfsnobody，因为nfsnobody权限不是很大，也不能登陆 </li>
</ol>
<h1 id="配置客户端-开机自动挂载NFS共享目录"><a href="#配置客户端-开机自动挂载NFS共享目录" class="headerlink" title="配置客户端 开机自动挂载NFS共享目录"></a>配置客户端 开机自动挂载NFS共享目录</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# chmod +x /etc/rc.d/rc.local     #centos7需要给rc.local赋予执行权限后，rc.local文件才能生效</div><div class="line">[root@localhost ~]# echo "mount -t nfs -o noexec,nosuid,nodev,rw,rsize=65536,wsize=65536 192.168.10.150:/data/bbs /data/bbs"&gt;&gt;/etc/rc.local</div><div class="line">[root@localhost ~]# cat /etc/rc.local</div><div class="line"><span class="meta">#</span>!/bin/bash</div><div class="line"><span class="meta">#</span> THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES#</div><div class="line"><span class="meta">#</span> It is highly advisable to create own systemd services or udev rules</div><div class="line"><span class="meta">#</span> to run scripts during boot instead of using this file.#</div><div class="line"><span class="meta">#</span> In contrast to previous versions due to parallel execution during boot</div><div class="line"><span class="meta">#</span> this script will NOT be run after all other services.#</div><div class="line"><span class="meta">#</span> Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure</div><div class="line"><span class="meta">#</span> that this script will be executed during boot.</div><div class="line"> </div><div class="line">mount -t nfs -o noexec,nosuid,nodev,rw,rsize=65536,wsize=65536 192.168.10.150:/data/bbs /data/bbs</div></pre></td></tr></table></figure>
<h1 id="客户端mount挂载优化"><a href="#客户端mount挂载优化" class="headerlink" title="客户端mount挂载优化"></a>客户端mount挂载优化</h1><p>在企业生产环境中，NFS客户端挂载的参数有noexec、nosuid、nodev、noatime、rsize、wsize、nodiratime等，</p>
<p> 一般来说，NFS服务器共享的只是普通静态数据（图片、附件、视频），不需要执行suid、exec等权限，挂载的这个文件系统只能作为数据存取之用，无法执行程序，对于客户端来讲增加了安全性，例如：很多<em>*</em>修改站点文件都是由上传入口上传的程序存储目录，然后执行，因此在挂载时，用下面的命令是有必要的，</p>
<p>普遍安全挂载参数：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mount -t nfs -o nosuid,noexec,nodev,rw 192.168.10.150:/data/bbs /data/bbs</div></pre></td></tr></table></figure>
<p>挂载的读写缓存</p>
<p>wsize和rsize写和读缓存</p>
<p>wsize和rsize的最大值</p>
<p>NFSV2   rsize=8192 wsize=8192</p>
<p>NFSV3   rsize=32768 wsize=32768</p>
<p>NFSV4   rsize=65536 wsize=65536</p>
<p>现在一般centos5.8以上的系统都己经增加了读写缓存，如需修改可以加以上参数</p>
<p>例如：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mount -t nfs -o noexec,nosuid,nodev,rw,rsize=65536,wsize=65536 192.168.10.150:/data/bbs /data/bbs</div></pre></td></tr></table></figure>
<p>mount的一些常用挂载优化参数：</p>
<ul>
<li><p>wsize和rsize写和读缓存</p>
</li>
<li><p>async     数据不同步写到磁盘，提高性参，但降低数据安全，不推荐使用</p>
</li>
<li>noatime和nodiratime  这两个选是说在读写磁盘时，不更新文件和目录的时间戳，而更新文件时间戳对于工作数据必要性不大，增加了磁盘IO的次数，拖慢系统性参，</li>
<li>defaults   这个缺省值包括rw,suid,dev,exec,auto,nouser,and async  cat /etc/fstab的结果默认大部人都是缺省值</li>
<li>noauto    不会自动挂载文件系统</li>
<li>noexec    不允许安装的直接执行任何二进制文件</li>
<li>ro         挂载一个只读文件系统</li>
<li>rw        挂载一个可写的文件系统</li>
<li>sync       把数据同步写入硬盘</li>
<li>nosuid     不允许设置用户标识或设置组标识符位</li>
<li>nodev      不解释字符或文件块特殊设备</li>
<li><p>intr       表示可以中断</p>
<p>企业生产环境中nfs性参优化挂载例子：</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mount -t nfs -o noatime,nodiratime 192.168.10.150:/data/bbs /data/bbs</div><div class="line">mount -t nfs -o nosuid,noexec,nodev,noatime,nodiratime,intr,rsize=65536,wsize=65536 192.168.10.150:/data/bbs /data/bbs</div></pre></td></tr></table></figure>
<p>如果是本地系统：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mount -o defaults,async,noatime,data=writeback,barrier=0 /dev/sdb1 /mnt</div></pre></td></tr></table></figure>
<p>data=writeback,barrier=0 是日志文件系统的优化</p>
<p>提示：本地文件系统挂载如果加nodiratime会报错，</p>
<h1 id="加优化参数和不加的数据写入测试"><a href="#加优化参数和不加的数据写入测试" class="headerlink" title="加优化参数和不加的数据写入测试"></a>加优化参数和不加的数据写入测试</h1><p><strong>使用普通挂载</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# mount -t nfs 192.168.0.150:/data/bbs /data/bbs</div></pre></td></tr></table></figure>
<p> 测试单个文件写入速度 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]# cd /data/bbs</div><div class="line">[root@localhost bbs]# time dd if=/dev/zero of=/data/bbs/dingjianfile bs=9k count=2000</div><div class="line">2000+0 records in</div><div class="line">2000+0 records out</div><div class="line">18432000 bytes (18 MB) copied, 0.114592 s, 161 MB/s</div><div class="line">real    0m0.125s</div><div class="line">user    0m0.000s</div><div class="line">sys     0m0.021s</div></pre></td></tr></table></figure>
<p>测试批量创建文件的写入速度 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost bbs]# time for ((i=1;i&lt;10000;i++));do /bin/cp /bin/touch /data/bbs/test$i;done</div><div class="line">real    2m2.877s</div><div class="line">user    0m10.242s</div><div class="line">sys     0m33.882s</div></pre></td></tr></table></figure>
<p><strong>加优化参数挂载:</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost bbs]#mount -t nfs -o noexec,nosuid,nodev,rw,rsize=65536,wsize=65536 192.168.10.150:/data/bbs /data/bbs</div></pre></td></tr></table></figure>
<p>测试单个文件写入速度 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@localhost bbs]#  time dd if=/dev/zero of=/data/bbs/dingjianfile bs=9k count=2000</div><div class="line">2000+0 records in</div><div class="line">2000+0 records out</div><div class="line">18432000 bytes (18 MB) copied, 0.10043 s, 184 MB/s</div><div class="line">real    0m0.107s</div><div class="line">user    0m0.001s</div><div class="line">sys     0m0.017s</div></pre></td></tr></table></figure>
<p>测试批量创建文件的写入速度 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost bbs]# time for ((i=1;i&lt;10000;i++));do /bin/cp /bin/touch /data/bbs/test$i;done</div><div class="line">real    1m38.526s</div><div class="line">user    0m9.989s</div><div class="line">sys     0m32.788s</div></pre></td></tr></table></figure>
<h1 id="配置fstab文件令开机自动加载网络文件系统和本地的文件系统-和rc-local效果一样"><a href="#配置fstab文件令开机自动加载网络文件系统和本地的文件系统-和rc-local效果一样" class="headerlink" title="配置fstab文件令开机自动加载网络文件系统和本地的文件系统(和rc.local效果一样)"></a>配置fstab文件令开机自动加载网络文件系统和本地的文件系统(和rc.local效果一样)</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">[root@localhost bbs]# vi /etc/fstab</div><div class="line"><span class="meta">#</span> /etc/fstab</div><div class="line"><span class="meta">#</span> Created by anaconda on Wed Jun 27 15:39:33 2018</div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta">#</span> Accessible filesystems, by reference, are maintained under '/dev/disk'</div><div class="line"><span class="meta">#</span> See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</div><div class="line"><span class="meta">#</span></div><div class="line">/dev/mapper/centos-root /                       xfs     defaults        0 0</div><div class="line">UUID=cbf5711b-4a2b-44ca-a6da-69d181f03617 /boot xfs     defaults        0 0</div><div class="line">/dev/mapper/centos-swap swap                    swap    defaults        0 0</div><div class="line"></div><div class="line">192.168.0.100:/data/bbs /data/bbs   nfs defaults,nosuid,noatime,nodiratime,noexec,nodev,intr,rsize=65536,wsize=65536     0 0</div><div class="line">~</div></pre></td></tr></table></figure>
<p>参考资料：</p>
<ol>
<li>《centos7下NFS使用与配置》 <a href="http://blog.51cto.com/mrxiong2017/2087001" target="_blank" rel="noopener">http://blog.51cto.com/mrxiong2017/2087001</a></li>
<li>《详细讲解NFS配置过程》(<a href="https://www.cnblogs.com/alonones/p/6105586.html" target="_blank" rel="noopener">https://www.cnblogs.com/alonones/p/6105586.html</a>)</li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/08/1/" rel="next" title="写作的准备-读《完全写作指南》">
                <i class="fa fa-chevron-left"></i> 写作的准备-读《完全写作指南》
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/05/01/1/" rel="prev" title="数据结构入门（01）：数组">
                数据结构入门（01）：数组 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zNTYyMC8xMjE1Ng"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://ogxeww23n.bkt.clouddn.com/timg.jpeg"
                alt="Maksim" />
            
              <p class="site-author-name" itemprop="name">Maksim</p>
              <p class="site-description motion-element" itemprop="description">Maksim's Website，分享成长的点点滴滴，关注PHP、JavaScript、Linux、C/C++、Go、SQL、MySQL、Redis、iOS、安卓开发，努力做一个值得收藏的博客。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">89</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/aircrayon" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:aircrayon@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#为什么要用NFS"><span class="nav-number">1.</span> <span class="nav-text">为什么要用NFS</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NSF-的工作流程"><span class="nav-number">2.</span> <span class="nav-text">NSF 的工作流程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CentOS-7搭建NFS服务器实例"><span class="nav-number">3.</span> <span class="nav-text">CentOS 7搭建NFS服务器实例</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据测试"><span class="nav-number">4.</span> <span class="nav-text">数据测试</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#配置客户端-开机自动挂载NFS共享目录"><span class="nav-number">5.</span> <span class="nav-text">配置客户端 开机自动挂载NFS共享目录</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#客户端mount挂载优化"><span class="nav-number">6.</span> <span class="nav-text">客户端mount挂载优化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#加优化参数和不加的数据写入测试"><span class="nav-number">7.</span> <span class="nav-text">加优化参数和不加的数据写入测试</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#配置fstab文件令开机自动加载网络文件系统和本地的文件系统-和rc-local效果一样"><span class="nav-number">8.</span> <span class="nav-text">配置fstab文件令开机自动加载网络文件系统和本地的文件系统(和rc.local效果一样)</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Maksim</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  





  

  

  

  
  

  

  

  

</body>
</html>
